<div class="flex flex-col w-full">
	<swal
		#processingSwal
		title="Processing"
		text="Please wait ..."
		[allowOutsideClick]="false"
		[showConfirmButton]="false"
		icon="warning"
	></swal>
	<div class="w-full mb-5 text-lg font-bold">
		<span class="border-b-2 border-primary border-solid pb-2">
			User Management
		</span>
	</div>
	<ngx-datatable
		class="material w-full mt-5"
		[rows]="users"
		[loadingIndicator]="isLoading"
		[columnMode]="ColumnMode.force"
		[headerHeight]="50"
		[footerHeight]="50"
		rowHeight="auto"
		[scrollbarH]="true"
	>
		<ngx-datatable-column name="" [width]="20">
			<ng-template
				ngx-datatable-cell-template
				let-rowIndex="rowIndex"
				let-row="row"
				let-value="value"
			>
				{{ rowIndex + 1 }}
			</ng-template>
		</ngx-datatable-column>
		<ngx-datatable-column
			name="Email Address"
			prop="user_email"
		></ngx-datatable-column>
		<ngx-datatable-column
			name="Full Name"
			prop="user_fullname"
		></ngx-datatable-column>
		<ngx-datatable-column
			name="Address"
			prop="user_address"
		></ngx-datatable-column>
		<ngx-datatable-column name="Actions">
			<ng-template
				ngx-datatable-cell-template
				let-rowIndex="rowIndex"
				let-row="row"
				let-value="value"
			>
				<button
					class="px-1 focus:outline-none text-blue-700"
					[routerLink]="['/user/update/', row._id]"
				>
					<fa-icon [icon]="faPen"></fa-icon>
				</button>
				<swal
					#deleteSwal
					title="Warning!"
					text="Are you sure you want to delete this user?"
					icon="warning"
					[showCancelButton]="true"
					[focusConfirm]="true"
					(confirm)="onDeleteUser(row)">
				</swal>
				<button
					class="px-1 focus:outline-none text-red-900"
					[swal]="deleteSwal"
				>
					<fa-icon [icon]="faTrash"></fa-icon>
				</button>
				<!-- <swal
					#deleteSwal
					title="Delete?"
					text="This cannot be undone"
					icon="question"
					[showCancelButton]="true"
					[focusCancel]="true"
					(confirm)="test()"
				>
					test
				</swal> -->
				<!-- <button
					[swal]="{ title: 'Enter your email' }"
					(confirm)="test()"
					(cancel)="test()"
				>
					Set my e-mail address
				</button> -->
			</ng-template>
		</ngx-datatable-column>
	</ngx-datatable>
</div>